<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MediTrack</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="lang-switch">
      <label for="langSelect" data-i18n="language.label">Language</label>
      <select id="langSelect">
        <option value="en">English</option>
        <option value="fr">Français</option>
      </select>
    </div>

    <header class="topbar hidden" id="topBar">
      <div class="brand">
        <img class="logo-img" src="Logo Meditrack.webp" alt="MediTrack logo" />
        <div class="brand-details">
          <p class="brand-title">MediTrack</p>
          <div class="brand-row">
            <p class="brand-sub" id="facilityName" data-i18n="header.facilityDashboard">
              Facility Dashboard
            </p>
            <img id="facilityLogoImg" class="facility-logo hidden" alt="Facility logo" />
          </div>
        </div>
      </div>
      <button id="signOutBtn" class="ghost" type="button" data-i18n="actions.signOut">
        Sign out
      </button>
    </header>

    <main class="app">
      <section id="welcomeView" class="view">
        <div class="hero">
          <div class="hero-content">
            <p class="eyebrow">MediTrack</p>
            <h1 data-i18n="hero.title">Integrated healthcare facility management</h1>
            <p class="subhead" data-i18n="hero.subtitle">
              A secure platform to manage clinical, administrative, and operational workflows in one place.
            </p>
            <ul class="hero-list">
              <li data-i18n="hero.bullet1">Patient registration, appointments, and clinical services</li>
              <li data-i18n="hero.bullet2">Billing, insurance, and real-time reporting</li>
              <li data-i18n="hero.bullet3">HR, inventory, procurement, and audit trails</li>
            </ul>
          </div>
          <div class="hero-card">
            <div class="tabs">
              <button id="tabSignIn" class="tab active" type="button" data-i18n="auth.signIn">
                Sign in
              </button>
              <button id="tabSignUp" class="tab" type="button" data-i18n="auth.signUp">
                Sign up
              </button>
            </div>

            <form id="signInForm" class="auth-form">
              <label class="field">
                <span data-i18n="auth.facilityCode">Facility identification code</span>
                <input
                  id="signInCode"
                  type="text"
                  placeholder="e.g., CFL-001"
                  data-i18n-placeholder="auth.facilityCodePlaceholder"
                />
              </label>
              <label class="field">
                <span data-i18n="auth.password">Password</span>
                <input id="signInPassword" type="password" />
              </label>
              <button class="primary" type="submit" data-i18n="auth.continue">
                Continue
              </button>
              <p class="form-message" id="signInMessage"></p>
            </form>

            <form id="signUpForm" class="auth-form hidden">
              <label class="field">
                <span data-i18n="auth.facilityName">Facility name</span>
                <input
                  id="signUpFacility"
                  type="text"
                  placeholder="e.g., Clinique CFL"
                  data-i18n-placeholder="auth.facilityNamePlaceholder"
                />
              </label>
              <label class="field">
                <span data-i18n="auth.facilityEmail">Facility email</span>
                <input
                  id="signUpEmail"
                  type="email"
                  placeholder="name@facility.tg"
                  data-i18n-placeholder="auth.facilityEmailPlaceholder"
                />
              </label>
              <label class="field">
                <span data-i18n="auth.facilityPhone">Facility phone</span>
                <input
                  id="signUpPhone"
                  type="tel"
                  placeholder="+228..."
                  data-i18n-placeholder="auth.facilityPhonePlaceholder"
                />
              </label>
              <label class="field">
                <span data-i18n="auth.facilityLogo">Facility logo (optional)</span>
                <input id="signUpLogo" type="file" accept="image/*" />
              </label>
              <div class="field-row">
                <label class="field">
                  <span data-i18n="auth.facilityCity">City</span>
                  <input id="signUpCity" type="text" />
                </label>
                <label class="field">
                  <span data-i18n="auth.facilityCountry">Country</span>
                  <input id="signUpCountry" type="text" />
                </label>
              </div>
              <label class="field">
                <span data-i18n="auth.authCode">Authorization code</span>
                <input
                  id="signUpCode"
                  type="text"
                  placeholder="Provided by admin"
                  data-i18n-placeholder="auth.authCodePlaceholder"
                />
              </label>
              <label class="field">
                <span data-i18n="auth.password">Password</span>
                <input id="signUpPassword" type="password" />
              </label>
              <button class="primary" type="submit" data-i18n="auth.create">
                Create facility account
              </button>
              <p class="form-message" id="signUpMessage"></p>
            </form>
          </div>
        </div>
      </section>

      <section id="modulesView" class="view hidden">
        <div class="module-header">
          <h2 data-i18n="modules.title">Facility Modules</h2>
          <p class="subhead" data-i18n="modules.subtitle">
            Choose a module to continue. Access rights are based on your role.
          </p>
          <p class="role-badge hidden" id="employeeRoleBadge"></p>
        </div>
        <div class="module-grid">
          <article class="module-card highlight" data-roles="director,accountant,admission">
            <h3 data-i18n="modules.billing">Billing & Payments</h3>
            <p data-i18n="modules.billingDesc">
              Patient admission, insurance validation, and payment processing.
            </p>
            <button class="ghost" type="button" data-module="billing" data-i18n="modules.open">
              Open module
            </button>
          </article>
          <article
            class="module-card"
            data-roles="director,accountant,admission,doctor,nurse,lab,radiology,pharmacy,other"
          >
            <h3 data-i18n="modules.dashboard">Role Dashboard</h3>
            <p data-i18n="modules.dashboardDesc">Personalized indicators for your role.</p>
            <button class="ghost" type="button" data-module="dashboard" data-i18n="modules.open">
              Open module
            </button>
          </article>
          <article class="module-card" data-roles="director,admission,doctor">
            <h3 data-i18n="modules.patients">Patient Management</h3>
            <p data-i18n="modules.patientsDesc">Registration, profiles, and care pathways.</p>
            <button class="ghost" type="button" data-i18n="modules.open">Open module</button>
          </article>
          <article class="module-card" data-roles="director,admission,doctor">
            <h3 data-i18n="modules.appointments">Appointments</h3>
            <p data-i18n="modules.appointmentsDesc">Scheduling, reminders, and visit tracking.</p>
            <button class="ghost" type="button" data-module="appointments" data-i18n="modules.open">
              Open module
            </button>
          </article>
          <article class="module-card" data-roles="director,doctor">
            <h3 data-i18n="modules.records">Clinical Records</h3>
            <p data-i18n="modules.recordsDesc">Secure EHR, diagnoses, and treatment history.</p>
            <button class="ghost" type="button" data-i18n="modules.open">Open module</button>
          </article>
          <article class="module-card" data-roles="director,lab,radiology">
            <h3 data-i18n="modules.lab">Laboratory</h3>
            <p data-i18n="modules.labDesc">Lab orders, samples, and results tracking.</p>
            <button class="ghost" type="button" data-i18n="modules.open">Open module</button>
          </article>
          <article class="module-card" data-roles="director">
            <h3 data-i18n="modules.hr">HR & Payroll</h3>
            <p data-i18n="modules.hrDesc">Staff profiles, shifts, and payroll export.</p>
            <button class="ghost" type="button" data-i18n="modules.open">Open module</button>
          </article>
          <article class="module-card" data-roles="director,lab,pharmacy">
            <h3 data-i18n="modules.inventory">Inventory & Stock</h3>
            <p data-i18n="modules.inventoryDesc">Medicines, alerts, and procurement requests.</p>
            <button class="ghost" type="button" data-module="inventory" data-i18n="modules.open">
              Open module
            </button>
          </article>
          <article class="module-card" data-roles="director">
            <h3 data-i18n="modules.procurement">Procurement</h3>
            <p data-i18n="modules.procurementDesc">Suppliers, purchase orders, and approvals.</p>
            <button class="ghost" type="button" data-i18n="modules.open">Open module</button>
          </article>
          <article class="module-card" data-roles="director,accountant">
            <h3 data-i18n="modules.analytics">Dashboards & Reports</h3>
            <p data-i18n="modules.analyticsDesc">KPIs, audit trails, and operational insights.</p>
            <button class="ghost" type="button" data-module="analytics" data-i18n="modules.open">
              Open module
            </button>
          </article>
          <article class="module-card" data-roles="director">
            <h3 data-i18n="modules.staff">Staff & Roles</h3>
            <p data-i18n="modules.staffDesc">Create employee profiles and assign access.</p>
            <button class="ghost" type="button" data-module="staff" data-i18n="modules.open">
              Open module
            </button>
          </article>
        </div>
      </section>

      <section id="staffSelectView" class="view hidden">
        <div class="module-top">
          <button id="backToWelcomeFromStaff" class="ghost" type="button" data-i18n="modules.backWelcome">
            Back
          </button>
          <div>
            <h2 data-i18n="staff.selectTitle">Who is connecting?</h2>
            <p class="subhead" data-i18n="staff.selectSubtitle">
              Choose the account type to continue.
            </p>
          </div>
        </div>

        <div class="staff-grid staff-choice-grid">
          <div class="staff-card staff-choice-card">
            <h3 data-i18n="staff.choiceAdmin">Administrator</h3>
            <p class="muted" data-i18n="staff.choiceAdminDesc">
              Create employee profiles and manage access rights.
            </p>
            <button id="chooseAdminBtn" class="primary" type="button" data-i18n="staff.enterAdminChoice">
              Continue as administrator
            </button>
          </div>
          <div class="staff-card staff-choice-card">
            <h3 data-i18n="staff.choiceEmployee">Employee</h3>
            <p class="muted" data-i18n="staff.choiceEmployeeDesc">
              Sign in with your employee credentials to access your role.
            </p>
            <button id="chooseEmployeeBtn" class="primary" type="button" data-i18n="staff.enterEmployeeChoice">
              Continue as employee
            </button>
          </div>
        </div>
      </section>

      <section id="staffAccessView" class="view hidden">
        <div class="module-top">
          <button id="backToWelcome" class="ghost" type="button" data-i18n="modules.backWelcome">
            Back
          </button>
          <div>
            <h2 data-i18n="staff.accessTitle">Staff access</h2>
            <p class="subhead" data-i18n="staff.accessSubtitle">
              Administrators create employee profiles. Employees sign in to their role-based account.
            </p>
          </div>
        </div>

        <div class="staff-grid" id="staffAccessGrid">
          <div class="staff-card" id="staffAdminCard">
            <h3 data-i18n="staff.adminSignIn">Administrator sign in</h3>
            <form id="adminSignInForm" class="auth-form">
              <label class="field">
                <span data-i18n="staff.adminId">Admin ID / Email</span>
                <input id="adminId" type="text" />
              </label>
              <label class="field">
                <span data-i18n="auth.password">Password</span>
                <input id="adminPassword" type="password" />
              </label>
              <button class="primary" type="submit" data-i18n="staff.enterAdmin">
                Enter admin space
              </button>
              <p class="form-message" id="adminSignInMessage"></p>
            </form>
          </div>
          <div class="staff-card" id="staffEmployeeCard">
            <h3 data-i18n="staff.employeeSignIn">Employee sign in</h3>
            <form id="employeeSignInForm" class="auth-form">
              <label class="field">
                <span data-i18n="staff.employeeId">Employee ID / Email</span>
                <input id="employeeId" type="text" />
              </label>
              <label class="field">
                <span data-i18n="auth.password">Password</span>
                <input id="employeePassword" type="password" />
              </label>
              <button class="primary" type="submit" data-i18n="staff.enterEmployee">
                Enter employee account
              </button>
              <p class="form-message" id="employeeSignInMessage"></p>
            </form>
          </div>
        </div>

        <section id="staffAdminPanel" class="module-section hidden">
          <div class="staff-panel-header">
            <div>
              <h3 data-i18n="staff.manageTitle">Employee management</h3>
              <p class="subhead" data-i18n="staff.manageSubtitle">
                Create staff profiles and assign roles.
              </p>
            </div>
            <button id="goToModules" class="ghost" type="button" data-i18n="staff.goModules">
              Go to modules
            </button>
          </div>
          <form id="staffForm" class="grid-form">
            <label class="field">
              <span data-i18n="staff.fullName">Full name</span>
              <input id="staffName" type="text" />
            </label>
            <label class="field">
              <span data-i18n="staff.role">Role</span>
              <select id="staffRole">
                <option value="" data-i18n="select.placeholder">Select...</option>
                <option value="admission" data-i18n="staff.roleAdmission">Admission nurse</option>
                <option value="director" data-i18n="staff.roleDirector">Director</option>
                <option value="accountant" data-i18n="staff.roleAccountant">Accountant</option>
                <option value="doctor" data-i18n="staff.roleDoctor">Doctor</option>
                <option value="lab" data-i18n="staff.roleLab">Laboratory staff</option>
                <option value="nurse" data-i18n="staff.roleNurse">Nurse</option>
                <option value="radiology" data-i18n="staff.roleRadiology">Radiology staff</option>
                <option value="pharmacy" data-i18n="staff.rolePharmacy">Pharmacy staff</option>
                <option value="other" data-i18n="staff.roleOther">Other</option>
              </select>
            </label>
            <div class="field-row">
              <label class="field">
                <span data-i18n="staff.employmentType">Employment type</span>
                <select id="staffEmploymentType">
                  <option value="permanent" data-i18n="staff.employmentPermanent">Permanent</option>
                  <option value="locum" data-i18n="staff.employmentLocum">Locum (vacataire)</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="staff.locumRate">Locum rate (%)</span>
                <input id="staffLocumRate" type="number" min="0" max="100" step="1" />
              </label>
            </div>
            <label class="field">
              <span data-i18n="staff.email">Email</span>
              <input id="staffEmail" type="email" />
            </label>
            <label class="field">
              <span data-i18n="staff.phone">Phone</span>
              <input id="staffPhone" type="tel" />
            </label>
            <label class="field">
              <span data-i18n="staff.employeeCode">Employee ID</span>
              <input id="staffCode" type="text" />
            </label>
            <label class="field">
              <span data-i18n="staff.tempPassword">Temporary password</span>
              <input id="staffTempPassword" type="text" />
            </label>
            <div class="field-row" id="doctorFields">
              <label class="field">
                <span data-i18n="staff.doctorSex">Sex</span>
                <select id="doctorSex">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option value="female" data-i18n="staff.sexFemale">Female</option>
                  <option value="male" data-i18n="staff.sexMale">Male</option>
                  <option value="other" data-i18n="staff.sexOther">Other</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="staff.doctorAge">Age</span>
                <input id="doctorAge" type="number" min="18" />
              </label>
              <label class="field">
                <span data-i18n="staff.doctorReg">Medical council registration #</span>
                <input id="doctorReg" type="text" />
              </label>
              <label class="field">
                <span data-i18n="staff.doctorTax">Tax ID (OTR / NIF)</span>
                <input id="doctorTax" type="text" />
              </label>
              <label class="field">
                <span data-i18n="staff.doctorSpecialty">Specialty</span>
                <input id="doctorSpecialty" type="text" />
              </label>
              <label class="field">
                <span data-i18n="staff.doctorFee">Negotiated service fee (CFL)</span>
                <input id="doctorFee" type="number" min="0" step="1" />
              </label>
              <label class="field">
                <span data-i18n="staff.doctorOtr">OTR tax rate</span>
                <select id="doctorOtr">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option value="5">5%</option>
                  <option value="10">10%</option>
                </select>
              </label>
            </div>
            <button class="primary" type="submit" data-i18n="staff.create">
              Create employee
            </button>
            <p class="form-message" id="staffMessage"></p>
          </form>
          <div class="staff-list">
            <h4 data-i18n="staff.listTitle">Staff list</h4>
            <table>
              <thead>
                <tr>
                  <th data-i18n="staff.listName">Name</th>
                  <th data-i18n="staff.listRole">Role</th>
                  <th data-i18n="staff.listEmail">Email</th>
                  <th data-i18n="staff.listCode">Employee ID</th>
                </tr>
              </thead>
              <tbody id="staffListBody"></tbody>
            </table>
          </div>
        </section>
      </section>

      <section id="moduleBillingView" class="view hidden">
        <div class="module-top">
          <button id="backToModules" class="ghost" type="button" data-i18n="modules.back">
            Back to modules
          </button>
          <div>
            <h2 data-i18n="billing.title">Billing & Patient Admission</h2>
            <p class="subhead" data-i18n="billing.subtitle">
              Register patients, validate insurance, and generate billing details.
            </p>
          </div>
        </div>

        <div class="module-layout">
          <section class="module-section">
            <h3 data-i18n="billing.admissionTitle">Patient admission</h3>
            <div class="pill-row">
              <label class="pill">
                <input type="radio" name="patientType" value="new" checked />
                <span data-i18n="billing.newPatient">New patient</span>
              </label>
              <label class="pill">
                <input type="radio" name="patientType" value="returning" />
                <span data-i18n="billing.returningPatient">Returning patient</span>
              </label>
            </div>
            <label class="field">
              <span data-i18n="billing.patientSearch">Search patient</span>
              <input
                id="patientSearch"
                type="search"
                placeholder="Search by name, ID, or phone"
                data-i18n-placeholder="billing.patientSearchPlaceholder"
              />
            </label>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.fullName">Full name</span>
                <input id="patientFullName" type="text" />
              </label>
              <label class="field">
                <span data-i18n="billing.sex">Sex</span>
                <select id="patientSex">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option value="female" data-i18n="billing.sexFemale">Female</option>
                  <option value="male" data-i18n="billing.sexMale">Male</option>
                  <option value="other" data-i18n="billing.sexOther">Other</option>
                </select>
              </label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.dob">Date of birth</span>
                <input id="patientDob" type="date" />
              </label>
              <label class="field">
                <span data-i18n="billing.age">Age</span>
                <input id="patientAge" type="number" min="0" />
              </label>
            </div>
            <label class="field">
              <span data-i18n="billing.address">Address</span>
              <input id="patientAddress" type="text" />
            </label>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.phone">Phone number</span>
                <input id="patientPhone" type="tel" />
              </label>
              <label class="field">
                <span data-i18n="billing.emergencyPhone">Emergency contact</span>
                <input id="patientEmergencyPhone" type="tel" />
              </label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.whatsapp">WhatsApp</span>
                <input id="patientWhatsapp" type="tel" />
              </label>
              <label class="field">
                <span data-i18n="billing.profession">Profession</span>
                <select id="patientProfession">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option value="employee" data-i18n="billing.profEmployee">Employee (public/private)</option>
                  <option value="self" data-i18n="billing.profSelf">Self-employed</option>
                  <option value="civil" data-i18n="billing.profCivil">Civil servant</option>
                  <option value="student" data-i18n="billing.profStudent">Student</option>
                  <option value="retired" data-i18n="billing.profRetired">Retired</option>
                  <option value="unemployed" data-i18n="billing.profUnemployed">Unemployed</option>
                  <option value="home" data-i18n="billing.profHome">Homemaker</option>
                </select>
              </label>
            </div>
            <label class="field">
              <span data-i18n="billing.education">Education level</span>
              <select id="patientEducation">
                <option value="" data-i18n="select.placeholder">Select...</option>
                <option value="primary" data-i18n="billing.educationPrimary">Primary</option>
                <option value="secondary" data-i18n="billing.educationSecondary">Secondary</option>
                <option value="tertiary" data-i18n="billing.educationTertiary">University</option>
                <option value="other" data-i18n="billing.educationOther">Other</option>
              </select>
            </label>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.assignDoctor">Assign doctor</span>
                <select id="assignDoctor">
                  <option value="" data-i18n="billing.doctorPlaceholder">Select doctor</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="billing.consultationCost">Consultation cost (CFL)</span>
                <input id="consultationCost" type="number" min="0" step="1" />
              </label>
            </div>
            <div class="button-row">
              <button id="addConsultationBtn" class="ghost" type="button" data-i18n="billing.addConsultation">
                Add consultation to billing
              </button>
              <button id="savePatientBtn" class="primary" type="button" data-i18n="billing.savePatient">
                Save patient profile
              </button>
              <button id="provideServicesBtn" class="ghost" type="button" data-i18n="billing.provideServices">
                Provide services
              </button>
            </div>
            <p class="form-message" id="patientMessage"></p>
          </section>

          <section class="module-section">
            <h3 data-i18n="billing.insuranceTitle">Insurance & coverage</h3>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.insuranceType">Insurance type</span>
                <select id="insuranceProvider">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option>AMU</option>
                  <option>INAM</option>
                  <option>SUNU</option>
                  <option>SUNU-GB</option>
                  <option>SANLAM</option>
                  <option>GTA</option>
                  <option>GCA</option>
                  <option>MSH</option>
                  <option>ASCOMA</option>
                  <option>OLEA</option>
                  <option>TRANSVIE</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="billing.insuranceId">Insurance ID / dossier</span>
                <input id="insuranceId" type="text" />
              </label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.coverageRate">Coverage rate</span>
                <select id="coverageRate">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option value="100">100%</option>
                  <option value="95">95%</option>
                  <option value="90">90%</option>
                  <option value="80">80%</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="billing.patientId">Identification number</span>
                <input id="patientIdentifier" type="text" />
              </label>
            </div>
          </section>

          <section class="module-section full">
            <h3 data-i18n="billing.pricingTitle">Insurance pricing table (optional)</h3>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.pricingProvider">Insurance provider</span>
                <select id="pricingProvider">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option>AMU</option>
                  <option>INAM</option>
                  <option>SUNU</option>
                  <option>SUNU-GB</option>
                  <option>SANLAM</option>
                  <option>GTA</option>
                  <option>GCA</option>
                  <option>MSH</option>
                  <option>ASCOMA</option>
                  <option>OLEA</option>
                  <option>TRANSVIE</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="billing.pricingCode">Service code</span>
                <input id="pricingCode" type="text" />
              </label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.pricingLabel">Service name</span>
                <input id="pricingLabel" type="text" />
              </label>
              <label class="field">
                <span data-i18n="billing.pricingPrice">CFL price</span>
                <input id="pricingPrice" type="number" min="0" step="1" />
              </label>
              <label class="field">
                <span data-i18n="billing.pricingBase">Reimbursement base</span>
                <input id="pricingBase" type="number" min="0" step="1" />
              </label>
            </div>
            <div class="button-row">
              <button id="addPricingRule" class="ghost" type="button" data-i18n="billing.pricingAdd">
                Save pricing rule
              </button>
            </div>
            <div class="table-scroll">
              <table class="billing-table">
                <thead>
                  <tr>
                    <th data-i18n="billing.pricingProvider">Insurance provider</th>
                    <th data-i18n="billing.pricingLabel">Service name</th>
                    <th data-i18n="billing.pricingPrice">CFL price</th>
                    <th data-i18n="billing.pricingBase">Reimbursement base</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="pricingTableBody"></tbody>
              </table>
            </div>
            <p class="form-message" id="pricingMessage"></p>
          </section>

          <section class="module-section">
            <h3 data-i18n="billing.servicesTitle">Reason for visit</h3>
            <div class="check-grid">
              <label><input type="checkbox" /> <span data-i18n="billing.serviceConsult">Consultation</span></label>
              <label><input type="checkbox" /> <span data-i18n="billing.serviceLab">Lab analysis</span></label>
              <label><input type="checkbox" /> <span data-i18n="billing.serviceImaging">Medical imaging</span></label>
              <label><input type="checkbox" /> <span data-i18n="billing.serviceHospital">Hospitalization</span></label>
              <label><input type="checkbox" /> <span data-i18n="billing.serviceSurgery">Surgery</span></label>
              <label><input type="checkbox" /> <span data-i18n="billing.serviceOutpatient">Outpatient care</span></label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.consultList">Consultation type</span>
                <select multiple>
                  <option>General medicine consultation</option>
                  <option>Cardiology consultation</option>
                  <option>Neurology consultation</option>
                  <option>Pulmonology consultation</option>
                  <option>ENT (Otorhinolaryngology) consultation</option>
                  <option>Hepatology / gastroenterology consultation</option>
                  <option>Infectious disease consultation</option>
                  <option>Geriatrics consultation</option>
                  <option>Internal medicine consultation</option>
                  <option>Pediatric consultation</option>
                  <option>Pediatric surgery consultation</option>
                  <option>General surgery consultation</option>
                  <option>Traumatology consultation</option>
                  <option>Gynecology / obstetrics consultation</option>
                  <option>Antenatal care consultation</option>
                  <option>Dermatology consultation</option>
                  <option>Dental consultation</option>
                  <option>Mental health consultation (psychology / psychiatry)</option>
                  <option>Dietetics / nutrition consultation</option>
                  <option>Physiotherapy / rehabilitation consultation</option>
                  <option>Occupational medicine consultation</option>
                  <option>Teleconsultation</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="billing.labList">Laboratory tests</span>
                <select multiple>
                  <option>Complete blood count (CBC)</option>
                  <option>Fasting blood glucose</option>
                  <option>Glycated hemoglobin (HbA1c)</option>
                  <option>Lipid profile (total cholesterol, LDL, HDL, triglycerides)</option>
                  <option>Renal function tests (creatinine, urea)</option>
                  <option>Liver function tests (ALT, AST, bilirubin)</option>
                  <option>Serum electrolytes (sodium, potassium, calcium)</option>
                  <option>C-reactive protein (CRP)</option>
                  <option>Hormonal tests (TSH, T3, T4, FSH, LH)</option>
                  <option>Coagulation tests (INR, aPTT)</option>
                  <option>Pregnancy test (β-HCG)</option>
                  <option>Blood group and Rh factor</option>
                  <option>Infectious disease tests (HIV, hepatitis B/C, syphilis, malaria)</option>
                  <option>Urinalysis (dipstick, urine culture)</option>
                  <option>Stool examination (parasites, occult blood)</option>
                </select>
              </label>
            </div>
            <label class="field">
              <span data-i18n="billing.imagingList">Imaging services</span>
              <select multiple>
                <option>Standard radiography (chest, bones, abdomen)</option>
                <option>Ultrasound (abdominal, pelvic, cardiac, breast)</option>
                <option>CT scan</option>
                <option>Magnetic resonance imaging (MRI)</option>
                <option>Mammography</option>
                <option>Vascular Doppler ultrasound</option>
                <option>Dental radiography</option>
                <option>Arthrography</option>
                <option>Bone densitometry</option>
                <option>Fluoroscopy</option>
                <option>Interventional imaging (image-guided biopsy)</option>
              </select>
            </label>
            <div class="field-row">
              <label class="field">
                <span data-i18n="billing.hospitalList">Hospitalization services</span>
                <select multiple>
                  <option>Admission to general care unit</option>
                  <option>Intensive care unit (ICU) hospitalization</option>
                  <option>Maternity hospitalization</option>
                  <option>Day hospitalization</option>
                  <option>Planned surgical hospitalization</option>
                  <option>Emergency hospitalization</option>
                  <option>Postoperative follow-up</option>
                  <option>Rehabilitation unit hospitalization</option>
                  <option>Short-term observation hospitalization</option>
                </select>
              </label>
              <label class="field">
                <span data-i18n="billing.surgeryList">Surgery services</span>
                <select multiple>
                  <option>General surgery (appendectomy, hernia repair)</option>
                  <option>Orthopedic surgery (fracture reduction, prosthesis)</option>
                  <option>Cardiovascular surgery (bypass surgery, stent placement)</option>
                  <option>Gynecological surgery (cesarean section, hysterectomy)</option>
                  <option>ENT surgery (tonsillectomy, ventilation tube insertion)</option>
                  <option>Ophthalmologic surgery (cataract, glaucoma)</option>
                  <option>Dental surgery (extractions, implants)</option>
                  <option>Plastic and reconstructive surgery</option>
                  <option>Urological surgery (prostatectomy, kidney stones)</option>
                  <option>Thoracic surgery (lobectomy, thoracoscopy)</option>
                  <option>Digestive surgery (cholecystectomy, colectomy)</option>
                  <option>Pediatric surgery</option>
                  <option>Laparoscopic / minimally invasive surgery</option>
                </select>
              </label>
            </div>
            <label class="field">
              <span data-i18n="billing.outpatientList">Outpatient care</span>
              <select multiple>
                <option>Wound dressing and care</option>
                <option>Injections (vaccines, antibiotics, etc.)</option>
                <option>Intravenous infusion</option>
                <option>Removal of sutures or staples</option>
                <option>Abscess drainage</option>
                <option>Electrocardiogram (ECG)</option>
                <option>Spirometry</option>
                <option>Physiotherapy / rehabilitation care</option>
                <option>Chronic pain management (infiltrations, etc.)</option>
                <option>Routine dental care (scaling, fillings)</option>
                <option>Exercise stress testing</option>
                <option>Blood pressure measurement and vital sign monitoring</option>
              </select>
            </label>
          </section>

          <section class="module-section full">
            <h3 data-i18n="billing.billingTitle">Billing items</h3>
            <div class="table-scroll">
              <table class="billing-table">
                <thead>
                  <tr>
                    <th data-i18n="billing.item">Service / Medication</th>
                    <th data-i18n="billing.code">Code</th>
                    <th data-i18n="billing.inamCode">Code INAM</th>
                    <th data-i18n="billing.category">Category</th>
                    <th data-i18n="billing.qty">Qty</th>
                    <th data-i18n="billing.unitPrice">Unit price (CFL)</th>
                    <th data-i18n="billing.base">Reimbursement base</th>
                    <th data-i18n="billing.rate">Rate</th>
                    <th data-i18n="billing.total">Total</th>
                    <th data-i18n="billing.insuranceShareShort">Insurance</th>
                    <th data-i18n="billing.patientShareShort">Calculated patient</th>
                    <th data-i18n="billing.actualPatientShare">Actual patient share</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="billingTableBody"></tbody>
              </table>
            </div>
            <button id="addBillingRow" class="ghost" type="button" data-i18n="billing.addLine">
              Add line
            </button>
          </section>

          <section class="module-section">
            <h3 data-i18n="billing.summaryTitle">Billing summary</h3>
            <div class="summary-grid">
              <div class="summary-item">
                <span data-i18n="billing.totalCfl">Total (CFL)</span>
                <strong id="billingTotal">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="billing.insuranceShare">Insurance share</span>
                <strong id="insuranceShare">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="billing.patientShare">Patient share</span>
                <strong id="patientShare">0</strong>
              </div>
            </div>
            <label class="field">
              <span data-i18n="billing.notes">Billing notes</span>
              <textarea rows="3"></textarea>
            </label>
          </section>

          <section class="module-section full receipt-section">
            <div class="receipt-actions">
              <button id="generateReceiptBtn" class="primary" type="button" data-i18n="receipt.generate">
                Generate receipt
              </button>
              <button id="printReceiptBtn" class="ghost" type="button" data-i18n="receipt.print" disabled>
                Print receipt
              </button>
            </div>
            <div id="receiptPanel" class="receipt hidden">
              <div class="receipt-header receipt-box">
                <div class="receipt-brand">
                  <img id="receiptLogoImg" src="Logo Meditrack.webp" alt="Facility logo" />
                  <div>
                    <p id="receiptFacility" class="receipt-facility">Facility</p>
                    <p class="receipt-meta" data-i18n="receipt.authorization">
                      Authorization No: __________
                    </p>
                  </div>
                </div>
                <div class="receipt-title">
                  <h3 data-i18n="receipt.title">Payment Receipt No</h3>
                  <span id="receiptNumber">____</span>
                </div>
              </div>

              <div class="receipt-row receipt-box">
                <p><strong data-i18n="receipt.cashier">Cashier:</strong> <span id="receiptCashier"></span></p>
                <p><strong data-i18n="receipt.date">Date:</strong> <span id="receiptDate"></span></p>
                <p><strong data-i18n="receipt.time">Time:</strong> <span id="receiptTime"></span></p>
              </div>

              <div class="receipt-patient receipt-box receipt-gray">
                <div>
                  <p><strong data-i18n="receipt.clientCode">Client code:</strong> <span id="receiptClientCode"></span></p>
                  <p><strong data-i18n="receipt.lastName">Last name:</strong> <span id="receiptLastName"></span></p>
                  <p><strong data-i18n="receipt.firstName">First name:</strong> <span id="receiptFirstName"></span></p>
                  <p><strong data-i18n="receipt.address">Address:</strong> <span id="receiptAddress"></span></p>
                  <p><strong data-i18n="receipt.insurer">Insurer:</strong> <span id="receiptInsurer"></span></p>
                </div>
                <div>
                  <p><strong data-i18n="receipt.sex">Sex:</strong> <span id="receiptSex"></span></p>
                  <p><strong data-i18n="receipt.dob">Born on:</strong> <span id="receiptDob"></span></p>
                  <p><strong data-i18n="receipt.profession">Profession:</strong> <span id="receiptProfession"></span></p>
                  <p><strong data-i18n="receipt.phone">Phone:</strong> <span id="receiptPhone"></span></p>
                  <p><strong data-i18n="receipt.coverage">Coverage:</strong> <span id="receiptCoverage"></span></p>
                  <p><strong data-i18n="receipt.policy">Policy No:</strong> <span id="receiptPolicy"></span></p>
                </div>
              </div>

              <table class="receipt-table">
                <thead>
                  <tr>
                    <th data-i18n="receipt.service">Service</th>
                    <th data-i18n="receipt.code">Code</th>
                    <th data-i18n="receipt.inam">Code INAM</th>
                    <th data-i18n="receipt.qty">Qty</th>
                    <th data-i18n="receipt.unitPrice">Unit price</th>
                    <th data-i18n="receipt.rate">Rate</th>
                    <th data-i18n="receipt.amount">Amount</th>
                    <th data-i18n="receipt.insuranceShare">Insurance share</th>
                    <th data-i18n="receipt.patientShare">Patient share</th>
                  </tr>
                </thead>
                <tbody id="receiptTableBody"></tbody>
              </table>

              <div class="receipt-totals">
                <div class="receipt-total-row">
                  <span data-i18n="receipt.totalNet">Total net to pay:</span>
                  <strong id="receiptTotalNet"></strong>
                </div>
                <div class="receipt-total-row">
                  <span data-i18n="receipt.totalInsurance">Total insurance:</span>
                  <strong id="receiptTotalInsurance"></strong>
                </div>
              </div>
              <p class="receipt-note" data-i18n="receipt.proceedNote">
                Receipt generated. Patient can proceed to the consultation.
              </p>
            </div>
          </section>
        </div>
      </section>

      <section id="serviceSelectionView" class="view hidden">
        <div class="module-top">
          <button
            id="backToBillingFromServices"
            class="ghost"
            type="button"
            data-i18n="services.back"
          >
            Back to admission
          </button>
          <div>
            <h2 data-i18n="services.title">Provide services</h2>
            <p class="subhead" data-i18n="services.subtitle">
              Select the services to add to the billing table.
            </p>
          </div>
        </div>

        <div class="module-layout">
          <section class="module-section">
            <h3 data-i18n="services.consultations">Consultation (list)</h3>
            <label class="field">
              <span data-i18n="services.selectHint">Select one or more services.</span>
              <select id="serviceConsultation" class="service-select" multiple data-service-category="consultation">
                <option value="General medicine consultation" data-price="5000" data-code="CONS-GENMED">
                  General medicine consultation
                </option>
                <option value="Cardiology consultation" data-price="8000" data-code="CONS-CARD">
                  Cardiology consultation
                </option>
                <option value="Neurology consultation" data-price="8000" data-code="CONS-NEUR">
                  Neurology consultation
                </option>
                <option value="Pulmonology consultation" data-price="7000" data-code="CONS-PULM">
                  Pulmonology consultation
                </option>
                <option value="ENT (Otorhinolaryngology) consultation" data-price="7000" data-code="CONS-ENT">
                  ENT (Otorhinolaryngology) consultation
                </option>
                <option value="Hepatology / gastroenterology consultation" data-price="8000" data-code="CONS-HEP">
                  Hepatology / gastroenterology consultation
                </option>
                <option value="Infectious disease consultation" data-price="8000" data-code="CONS-INF">
                  Infectious disease consultation
                </option>
                <option value="Geriatrics consultation" data-price="7000" data-code="CONS-GER">
                  Geriatrics consultation
                </option>
                <option value="Internal medicine consultation" data-price="7000" data-code="CONS-INT">
                  Internal medicine consultation
                </option>
                <option value="Pediatric consultation" data-price="6000" data-code="CONS-PED">
                  Pediatric consultation
                </option>
                <option value="Pediatric surgery consultation" data-price="9000" data-code="CONS-PEDSURG">
                  Pediatric surgery consultation
                </option>
                <option value="General surgery consultation" data-price="9000" data-code="CONS-GENSURG">
                  General surgery consultation
                </option>
                <option value="Traumatology consultation" data-price="7000" data-code="CONS-TRAU">
                  Traumatology consultation
                </option>
                <option value="Gynecology / obstetrics consultation" data-price="8000" data-code="CONS-GYN">
                  Gynecology / obstetrics consultation
                </option>
                <option value="Antenatal care consultation" data-price="6000" data-code="CONS-ANC">
                  Antenatal care consultation
                </option>
                <option value="Dermatology consultation" data-price="7000" data-code="CONS-DERM">
                  Dermatology consultation
                </option>
                <option value="Dental consultation" data-price="6000" data-code="CONS-DENT">
                  Dental consultation
                </option>
                <option
                  value="Mental health consultation (psychology / psychiatry)"
                  data-price="7000"
                  data-code="CONS-MH"
                >
                  Mental health consultation (psychology / psychiatry)
                </option>
                <option value="Dietetics / nutrition consultation" data-price="5000" data-code="CONS-NUT">
                  Dietetics / nutrition consultation
                </option>
                <option
                  value="Physiotherapy / rehabilitation consultation"
                  data-price="5000"
                  data-code="CONS-PHYSIO"
                >
                  Physiotherapy / rehabilitation consultation
                </option>
                <option value="Occupational medicine consultation" data-price="6000" data-code="CONS-OCC">
                  Occupational medicine consultation
                </option>
                <option value="Teleconsultation" data-price="4000" data-code="CONS-TELE">
                  Teleconsultation
                </option>
              </select>
            </label>
          </section>

          <section class="module-section">
            <h3 data-i18n="services.labTests">Laboratory tests (list)</h3>
            <label class="field">
              <span data-i18n="services.selectHint">Select one or more services.</span>
              <select id="serviceLab" class="service-select" multiple data-service-category="lab">
                <option value="Complete blood count (CBC)" data-price="3000" data-code="LAB-CBC">
                  Complete blood count (CBC)
                </option>
                <option value="Fasting blood glucose" data-price="2500" data-code="LAB-GLU">
                  Fasting blood glucose
                </option>
                <option value="Glycated hemoglobin (HbA1c)" data-price="4000" data-code="LAB-HBA1C">
                  Glycated hemoglobin (HbA1c)
                </option>
                <option
                  value="Lipid profile (total cholesterol, LDL, HDL, triglycerides)"
                  data-price="4500"
                  data-code="LAB-LIP"
                >
                  Lipid profile (total cholesterol, LDL, HDL, triglycerides)
                </option>
                <option value="Renal function tests (creatinine, urea)" data-price="3500" data-code="LAB-REN">
                  Renal function tests (creatinine, urea)
                </option>
                <option value="Liver function tests (ALT, AST, bilirubin)" data-price="3500" data-code="LAB-LIV">
                  Liver function tests (ALT, AST, bilirubin)
                </option>
                <option
                  value="Serum electrolytes (sodium, potassium, calcium)"
                  data-price="3000"
                  data-code="LAB-ELEC"
                >
                  Serum electrolytes (sodium, potassium, calcium)
                </option>
                <option value="C-reactive protein (CRP)" data-price="3000" data-code="LAB-CRP">
                  C-reactive protein (CRP)
                </option>
                <option
                  value="Hormonal tests (TSH, T3, T4, FSH, LH)"
                  data-price="6000"
                  data-code="LAB-HORM"
                >
                  Hormonal tests (TSH, T3, T4, FSH, LH)
                </option>
                <option value="Coagulation tests (INR, aPTT)" data-price="3500" data-code="LAB-COAG">
                  Coagulation tests (INR, aPTT)
                </option>
                <option value="Pregnancy test (β-HCG)" data-price="2500" data-code="LAB-HCG">
                  Pregnancy test (β-HCG)
                </option>
                <option value="Blood group and Rh factor" data-price="2000" data-code="LAB-BGRH">
                  Blood group and Rh factor
                </option>
                <option
                  value="Infectious disease tests (HIV, hepatitis B/C, syphilis, malaria)"
                  data-price="5000"
                  data-code="LAB-INF"
                >
                  Infectious disease tests (HIV, hepatitis B/C, syphilis, malaria)
                </option>
                <option value="Urinalysis (dipstick, urine culture)" data-price="2500" data-code="LAB-URINE">
                  Urinalysis (dipstick, urine culture)
                </option>
                <option value="Stool examination (parasites, occult blood)" data-price="2500" data-code="LAB-STOOL">
                  Stool examination (parasites, occult blood)
                </option>
              </select>
            </label>
          </section>

          <section class="module-section">
            <h3 data-i18n="services.imaging">Medical imaging (list)</h3>
            <label class="field">
              <span data-i18n="services.selectHint">Select one or more services.</span>
              <select id="serviceImaging" class="service-select" multiple data-service-category="imaging">
                <option
                  value="Standard radiography (chest, bones, abdomen)"
                  data-price="6000"
                  data-code="IMG-RAD"
                >
                  Standard radiography (chest, bones, abdomen)
                </option>
                <option
                  value="Ultrasound (abdominal, pelvic, cardiac, breast)"
                  data-price="9000"
                  data-code="IMG-US"
                >
                  Ultrasound (abdominal, pelvic, cardiac, breast)
                </option>
                <option value="CT scan" data-price="25000" data-code="IMG-CT">
                  CT scan
                </option>
                <option value="Magnetic resonance imaging (MRI)" data-price="30000" data-code="IMG-MRI">
                  Magnetic resonance imaging (MRI)
                </option>
                <option value="Mammography" data-price="12000" data-code="IMG-MAM">
                  Mammography
                </option>
                <option value="Vascular Doppler ultrasound" data-price="15000" data-code="IMG-DOP">
                  Vascular Doppler ultrasound
                </option>
                <option value="Dental radiography" data-price="5000" data-code="IMG-DENT">
                  Dental radiography
                </option>
                <option value="Arthrography" data-price="18000" data-code="IMG-ARTH">
                  Arthrography
                </option>
                <option value="Bone densitometry" data-price="16000" data-code="IMG-DENS">
                  Bone densitometry
                </option>
                <option value="Fluoroscopy" data-price="20000" data-code="IMG-FLUORO">
                  Fluoroscopy
                </option>
                <option value="Interventional imaging (image-guided biopsy)" data-price="22000" data-code="IMG-INT">
                  Interventional imaging (image-guided biopsy)
                </option>
              </select>
            </label>
          </section>

          <section class="module-section">
            <h3 data-i18n="services.hospitalization">Hospitalization (list)</h3>
            <label class="field">
              <span data-i18n="services.selectHint">Select one or more services.</span>
              <select id="serviceHospital" class="service-select" multiple data-service-category="hospital">
                <option value="Admission to general care unit" data-price="15000" data-code="HOSP-GEN">
                  Admission to general care unit
                </option>
                <option
                  value="Intensive care unit (ICU) hospitalization"
                  data-price="30000"
                  data-code="HOSP-ICU"
                >
                  Intensive care unit (ICU) hospitalization
                </option>
                <option value="Maternity hospitalization" data-price="20000" data-code="HOSP-MAT">
                  Maternity hospitalization
                </option>
                <option value="Day hospitalization" data-price="12000" data-code="HOSP-DAY">
                  Day hospitalization
                </option>
                <option
                  value="Planned surgical hospitalization"
                  data-price="25000"
                  data-code="HOSP-PLN"
                >
                  Planned surgical hospitalization
                </option>
                <option value="Emergency hospitalization" data-price="28000" data-code="HOSP-EMR">
                  Emergency hospitalization
                </option>
                <option value="Postoperative follow-up" data-price="15000" data-code="HOSP-POST">
                  Postoperative follow-up
                </option>
                <option
                  value="Rehabilitation unit hospitalization"
                  data-price="18000"
                  data-code="HOSP-REH"
                >
                  Rehabilitation unit hospitalization
                </option>
                <option
                  value="Short-term observation hospitalization"
                  data-price="10000"
                  data-code="HOSP-OBS"
                >
                  Short-term observation hospitalization
                </option>
              </select>
            </label>
          </section>

          <section class="module-section">
            <h3 data-i18n="services.surgery">Surgery (list)</h3>
            <label class="field">
              <span data-i18n="services.selectHint">Select one or more services.</span>
              <select id="serviceSurgery" class="service-select" multiple data-service-category="surgery">
                <option value="General surgery (appendectomy, hernia repair)" data-price="60000" data-code="SURG-GEN">
                  General surgery (appendectomy, hernia repair)
                </option>
                <option
                  value="Orthopedic surgery (fracture reduction, prosthesis)"
                  data-price="70000"
                  data-code="SURG-ORTH"
                >
                  Orthopedic surgery (fracture reduction, prosthesis)
                </option>
                <option
                  value="Cardiovascular surgery (bypass surgery, stent placement)"
                  data-price="150000"
                  data-code="SURG-CARD"
                >
                  Cardiovascular surgery (bypass surgery, stent placement)
                </option>
                <option
                  value="Gynecological surgery (cesarean section, hysterectomy)"
                  data-price="80000"
                  data-code="SURG-GYN"
                >
                  Gynecological surgery (cesarean section, hysterectomy)
                </option>
                <option
                  value="ENT surgery (tonsillectomy, ventilation tube insertion)"
                  data-price="50000"
                  data-code="SURG-ENT"
                >
                  ENT surgery (tonsillectomy, ventilation tube insertion)
                </option>
                <option
                  value="Ophthalmologic surgery (cataract, glaucoma)"
                  data-price="60000"
                  data-code="SURG-OPH"
                >
                  Ophthalmologic surgery (cataract, glaucoma)
                </option>
                <option value="Dental surgery (extractions, implants)" data-price="40000" data-code="SURG-DENT">
                  Dental surgery (extractions, implants)
                </option>
                <option value="Plastic and reconstructive surgery" data-price="90000" data-code="SURG-PLAST">
                  Plastic and reconstructive surgery
                </option>
                <option
                  value="Urological surgery (prostatectomy, kidney stones)"
                  data-price="85000"
                  data-code="SURG-URO"
                >
                  Urological surgery (prostatectomy, kidney stones)
                </option>
                <option
                  value="Thoracic surgery (lobectomy, thoracoscopy)"
                  data-price="120000"
                  data-code="SURG-THOR"
                >
                  Thoracic surgery (lobectomy, thoracoscopy)
                </option>
                <option
                  value="Digestive surgery (cholecystectomy, colectomy)"
                  data-price="80000"
                  data-code="SURG-DIG"
                >
                  Digestive surgery (cholecystectomy, colectomy)
                </option>
                <option value="Pediatric surgery" data-price="70000" data-code="SURG-PED">
                  Pediatric surgery
                </option>
                <option
                  value="Laparoscopic / minimally invasive surgery"
                  data-price="100000"
                  data-code="SURG-LAP"
                >
                  Laparoscopic / minimally invasive surgery
                </option>
              </select>
            </label>
          </section>

          <section class="module-section">
            <h3 data-i18n="services.outpatient">Outpatient care (list)</h3>
            <label class="field">
              <span data-i18n="services.selectHint">Select one or more services.</span>
              <select id="serviceOutpatient" class="service-select" multiple data-service-category="outpatient">
                <option value="Wound dressing and care" data-price="2000" data-code="OUT-WOUND">
                  Wound dressing and care
                </option>
                <option value="Injections (vaccines, antibiotics, etc.)" data-price="1500" data-code="OUT-INJ">
                  Injections (vaccines, antibiotics, etc.)
                </option>
                <option value="Intravenous infusion" data-price="3000" data-code="OUT-IV">
                  Intravenous infusion
                </option>
                <option value="Removal of sutures or staples" data-price="2000" data-code="OUT-SUT">
                  Removal of sutures or staples
                </option>
                <option value="Abscess drainage" data-price="4000" data-code="OUT-ABSC">
                  Abscess drainage
                </option>
                <option value="Electrocardiogram (ECG)" data-price="3000" data-code="OUT-ECG">
                  Electrocardiogram (ECG)
                </option>
                <option value="Spirometry" data-price="3500" data-code="OUT-SPIRO">
                  Spirometry
                </option>
                <option value="Physiotherapy / rehabilitation care" data-price="5000" data-code="OUT-PHYS">
                  Physiotherapy / rehabilitation care
                </option>
                <option value="Chronic pain management (infiltrations, etc.)" data-price="4500" data-code="OUT-PAIN">
                  Chronic pain management (infiltrations, etc.)
                </option>
                <option value="Routine dental care (scaling, fillings)" data-price="4000" data-code="OUT-DENT">
                  Routine dental care (scaling, fillings)
                </option>
                <option value="Exercise stress testing" data-price="6000" data-code="OUT-STRESS">
                  Exercise stress testing
                </option>
                <option value="Blood pressure measurement and vital sign monitoring" data-price="1500" data-code="OUT-BP">
                  Blood pressure measurement and vital sign monitoring
                </option>
              </select>
            </label>
          </section>

          <section class="module-section full">
            <h3 data-i18n="services.medications">Medications for hospitalization & care</h3>
            <div class="table-scroll">
              <table class="billing-table service-table">
                <thead>
                  <tr>
                    <th></th>
                    <th data-i18n="services.medicationName">Medication (Commercial / INN)</th>
                    <th data-i18n="services.medicationPrice">Unit price (CFL)</th>
                    <th data-i18n="services.medicationQty">Qty</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="med-check"
                        data-label="Paracétamol (INN: Paracetamol)"
                        data-price="200"
                        data-code="MED-PAR"
                        data-category="pharmacy"
                      />
                    </td>
                    <td>Paracétamol (INN: Paracetamol)</td>
                    <td>200</td>
                    <td><input class="med-qty" type="number" min="1" value="1" /></td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="med-check"
                        data-label="Amoxicilline (INN: Amoxicillin)"
                        data-price="500"
                        data-code="MED-AMOX"
                        data-category="pharmacy"
                      />
                    </td>
                    <td>Amoxicilline (INN: Amoxicillin)</td>
                    <td>500</td>
                    <td><input class="med-qty" type="number" min="1" value="1" /></td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="med-check"
                        data-label="Ciprofloxacine (INN: Ciprofloxacin)"
                        data-price="800"
                        data-code="MED-CIP"
                        data-category="pharmacy"
                      />
                    </td>
                    <td>Ciprofloxacine (INN: Ciprofloxacin)</td>
                    <td>800</td>
                    <td><input class="med-qty" type="number" min="1" value="1" /></td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="med-check"
                        data-label="Métronidazole (INN: Metronidazole)"
                        data-price="600"
                        data-code="MED-MET"
                        data-category="pharmacy"
                      />
                    </td>
                    <td>Métronidazole (INN: Metronidazole)</td>
                    <td>600</td>
                    <td><input class="med-qty" type="number" min="1" value="1" /></td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="med-check"
                        data-label="Sérum physiologique 0,9% (INN: Sodium chloride)"
                        data-price="1200"
                        data-code="MED-SER"
                        data-category="pharmacy"
                      />
                    </td>
                    <td>Sérum physiologique 0,9% (INN: Sodium chloride)</td>
                    <td>1200</td>
                    <td><input class="med-qty" type="number" min="1" value="1" /></td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="med-check"
                        data-label="Ibuprofène (INN: Ibuprofen)"
                        data-price="300"
                        data-code="MED-IBU"
                        data-category="pharmacy"
                      />
                    </td>
                    <td>Ibuprofène (INN: Ibuprofen)</td>
                    <td>300</td>
                    <td><input class="med-qty" type="number" min="1" value="1" /></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <section class="module-section full">
            <div class="button-row">
              <button id="addSelectedServices" class="primary" type="button" data-i18n="services.addSelected">
                Add selected services
              </button>
              <button id="clearServiceSelection" class="ghost" type="button" data-i18n="services.clear">
                Clear selection
              </button>
            </div>
            <p class="form-message" id="serviceSelectionMessage"></p>
          </section>
        </div>
      </section>

      <section id="appointmentsView" class="view hidden">
        <div class="module-top">
          <button
            id="backToModulesFromAppointments"
            class="ghost"
            type="button"
            data-i18n="modules.back"
          >
            Back to modules
          </button>
          <div>
            <h2 data-i18n="appointments.title">Appointment scheduling</h2>
            <p class="subhead" data-i18n="appointments.subtitle">
              Create visits, track upcoming appointments, and manage patient booking.
            </p>
          </div>
        </div>

        <div class="module-layout">
          <section class="module-section">
            <h3 data-i18n="appointments.createTitle">Create appointment</h3>
            <div class="field-row">
              <label class="field">
                <span data-i18n="appointments.patientName">Patient name</span>
                <input id="appointmentPatient" type="text" />
              </label>
              <label class="field">
                <span data-i18n="appointments.patientPhone">Patient phone</span>
                <input id="appointmentPhone" type="tel" />
              </label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="appointments.doctor">Doctor</span>
                <select id="appointmentDoctor"></select>
              </label>
              <label class="field">
                <span data-i18n="appointments.service">Service</span>
                <select id="appointmentService">
                  <option value="" data-i18n="select.placeholder">Select...</option>
                  <option value="consultation">Consultation</option>
                  <option value="lab">Laboratory</option>
                  <option value="imaging">Imaging</option>
                  <option value="hospital">Hospitalization</option>
                  <option value="surgery">Surgery</option>
                  <option value="outpatient">Outpatient care</option>
                </select>
              </label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="appointments.date">Date</span>
                <input id="appointmentDate" type="date" />
              </label>
              <label class="field">
                <span data-i18n="appointments.time">Time</span>
                <input id="appointmentTime" type="time" />
              </label>
            </div>
            <label class="field">
              <span data-i18n="appointments.notes">Notes</span>
              <textarea id="appointmentNotes" rows="3"></textarea>
            </label>
            <button id="createAppointmentBtn" class="primary" type="button" data-i18n="appointments.create">
              Schedule appointment
            </button>
            <p class="form-message" id="appointmentsMessage"></p>
          </section>

          <section class="module-section full">
            <h3 data-i18n="appointments.listTitle">Upcoming appointments</h3>
            <div class="table-scroll">
              <table class="billing-table">
                <thead>
                  <tr>
                    <th data-i18n="appointments.patientName">Patient</th>
                    <th data-i18n="appointments.doctor">Doctor</th>
                    <th data-i18n="appointments.service">Service</th>
                    <th data-i18n="appointments.date">Date</th>
                    <th data-i18n="appointments.time">Time</th>
                    <th data-i18n="appointments.status">Status</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="appointmentsTableBody"></tbody>
              </table>
            </div>
          </section>

          <section class="module-section">
            <h3 data-i18n="appointments.portalTitle">Online booking (patient portal)</h3>
            <p class="muted" data-i18n="appointments.portalDesc">
              Share a booking link with patients to capture appointment requests online.
            </p>
            <div class="field-row">
              <label class="field">
                <span data-i18n="appointments.portalLink">Booking link</span>
                <input id="appointmentsPortalLink" type="text" value="https://meditrack.app/book" readonly />
              </label>
              <button id="copyPortalLink" class="ghost" type="button" data-i18n="appointments.copyLink">
                Copy link
              </button>
            </div>
          </section>
        </div>
      </section>

      <section id="inventoryView" class="view hidden">
        <div class="module-top">
          <button
            id="backToModulesFromInventory"
            class="ghost"
            type="button"
            data-i18n="modules.back"
          >
            Back to modules
          </button>
          <div>
            <h2 data-i18n="inventory.title">Inventory & Stock</h2>
            <p class="subhead" data-i18n="inventory.subtitle">
              Track medications, expiry dates, and low-stock alerts.
            </p>
          </div>
        </div>

        <div class="module-layout">
          <section class="module-section">
            <h3 data-i18n="inventory.addTitle">Add medication</h3>
            <label class="field">
              <span data-i18n="inventory.name">Medication (Commercial / INN)</span>
              <input id="stockName" type="text" />
            </label>
            <div class="field-row">
              <label class="field">
                <span data-i18n="inventory.unitPrice">Unit price (CFL)</span>
                <input id="stockPrice" type="number" min="0" step="1" />
              </label>
              <label class="field">
                <span data-i18n="inventory.quantity">Quantity</span>
                <input id="stockQty" type="number" min="0" step="1" />
              </label>
              <label class="field">
                <span data-i18n="inventory.minLevel">Minimum level</span>
                <input id="stockMin" type="number" min="0" step="1" />
              </label>
            </div>
            <div class="field-row">
              <label class="field">
                <span data-i18n="inventory.entryDate">Stock entry date</span>
                <input id="stockEntryDate" type="date" />
              </label>
              <label class="field">
                <span data-i18n="inventory.expiryDate">Expiry date</span>
                <input id="stockExpiryDate" type="date" />
              </label>
            </div>
            <label class="field">
              <span data-i18n="inventory.receipt">Supplier receipt</span>
              <input id="stockReceipt" type="file" />
            </label>
            <button id="addStockBtn" class="primary" type="button" data-i18n="inventory.add">
              Add to stock
            </button>
            <p class="form-message" id="inventoryMessage"></p>
          </section>

          <section class="module-section full">
            <h3 data-i18n="inventory.listTitle">Stock list</h3>
            <div class="table-scroll">
              <table class="billing-table">
                <thead>
                  <tr>
                    <th data-i18n="inventory.name">Medication</th>
                    <th data-i18n="inventory.quantity">Qty</th>
                    <th data-i18n="inventory.minLevel">Min</th>
                    <th data-i18n="inventory.unitPrice">Unit price</th>
                    <th data-i18n="inventory.entryDate">Entry</th>
                    <th data-i18n="inventory.expiryDate">Expiry</th>
                    <th data-i18n="inventory.receipt">Receipt</th>
                    <th data-i18n="inventory.status">Status</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="stockTableBody"></tbody>
              </table>
            </div>
          </section>

          <section class="module-section full">
            <h3 data-i18n="inventory.purchaseTitle">Purchase orders</h3>
            <div class="field-row">
              <label class="field">
                <span data-i18n="inventory.supplier">Supplier</span>
                <input id="poSupplier" type="text" />
              </label>
              <label class="field">
                <span data-i18n="inventory.orderItem">Item</span>
                <input id="poItem" type="text" />
              </label>
              <label class="field">
                <span data-i18n="inventory.orderQty">Quantity</span>
                <input id="poQty" type="number" min="1" step="1" />
              </label>
              <label class="field">
                <span data-i18n="inventory.orderDate">Expected date</span>
                <input id="poDate" type="date" />
              </label>
            </div>
            <div class="button-row">
              <button id="addPurchaseOrderBtn" class="ghost" type="button" data-i18n="inventory.createOrder">
                Create order
              </button>
            </div>
            <div class="table-scroll">
              <table class="billing-table">
                <thead>
                  <tr>
                    <th data-i18n="inventory.supplier">Supplier</th>
                    <th data-i18n="inventory.orderItem">Item</th>
                    <th data-i18n="inventory.orderQty">Qty</th>
                    <th data-i18n="inventory.orderDate">Expected</th>
                    <th data-i18n="inventory.status">Status</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="poTableBody"></tbody>
              </table>
            </div>
            <p class="form-message" id="poMessage"></p>
          </section>
        </div>
      </section>

      <section id="analyticsView" class="view hidden">
        <div class="module-top">
          <button
            id="backToModulesFromAnalytics"
            class="ghost"
            type="button"
            data-i18n="modules.back"
          >
            Back to modules
          </button>
          <div>
            <h2 data-i18n="reports.title">Dashboards & Reports</h2>
            <p class="subhead" data-i18n="reports.subtitle">
              Monitor service activity and export key operational data.
            </p>
          </div>
        </div>

        <div class="module-layout">
          <section class="module-section full">
            <h3 data-i18n="reports.serviceBreakdown">Service breakdown</h3>
            <div class="summary-grid">
              <div class="summary-item">
                <span data-i18n="reports.consultations">Consultations</span>
                <strong id="reportConsultations">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="reports.lab">Laboratory tests</span>
                <strong id="reportLab">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="reports.imaging">Imaging</span>
                <strong id="reportImaging">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="reports.hospital">Hospitalization</span>
                <strong id="reportHospital">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="reports.surgery">Surgery</span>
                <strong id="reportSurgery">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="reports.outpatient">Outpatient</span>
                <strong id="reportOutpatient">0</strong>
              </div>
              <div class="summary-item">
                <span data-i18n="reports.pharmacy">Pharmacy</span>
                <strong id="reportPharmacy">0</strong>
              </div>
            </div>
          </section>

          <section class="module-section full">
            <h3 data-i18n="reports.trendsTitle">Trends (last 7 days)</h3>
            <div class="table-scroll">
              <table class="billing-table">
                <thead>
                  <tr>
                    <th data-i18n="reports.trendDay">Day</th>
                    <th data-i18n="reports.trendCount">Total services</th>
                  </tr>
                </thead>
                <tbody id="trendTableBody"></tbody>
              </table>
            </div>
          </section>

          <section class="module-section full">
            <h3 data-i18n="reports.payslipsTitle">Doctor payslips</h3>
            <div class="table-scroll">
              <table class="billing-table">
                <thead>
                  <tr>
                    <th data-i18n="reports.doctor">Doctor</th>
                    <th data-i18n="reports.gross">Gross</th>
                    <th data-i18n="reports.otr">OTR</th>
                    <th data-i18n="reports.net">Net</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="payslipTableBody"></tbody>
              </table>
            </div>
          </section>
        </div>
      </section>

      <section id="roleDashboardView" class="view hidden">
        <div class="module-top">
          <button id="backToModulesFromDashboard" class="ghost" type="button" data-i18n="modules.back">
            Back to modules
          </button>
          <div>
            <h2 data-i18n="dashboard.title">Role dashboard</h2>
            <p class="subhead" id="dashboardRoleLabel" data-i18n="dashboard.subtitle">
              Key indicators based on your responsibilities.
            </p>
          </div>
        </div>

        <div class="dashboard-grid">
          <section class="dash-section" data-role="admission">
            <h3 data-i18n="dashboard.admissionTitle">Admission staff overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.totalPatients">Total patients received</p>
                <strong id="admTotalPatients">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.visitsToday">Visits today</p>
                <strong id="admVisitsToday">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.visitsWeek">Visits this week</p>
                <strong id="admVisitsWeek">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.visitsMonth">Visits this month</p>
                <strong id="admVisitsMonth">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.paidByPatients">Paid by patients</p>
                <strong id="admPaidPatients">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.paidByInsurance">To be paid by insurance</p>
                <strong id="admPaidInsurance">0</strong>
              </div>
            </div>
            <div class="dash-table">
              <h4 data-i18n="dashboard.byStaff">Admissions by staff</h4>
              <table>
                <thead>
                  <tr>
                    <th data-i18n="dashboard.staffName">Staff</th>
                    <th data-i18n="dashboard.staffCount">Patients</th>
                  </tr>
                </thead>
                <tbody id="admStaffTable"></tbody>
              </table>
            </div>
          </section>

          <section class="dash-section" data-role="doctor">
            <h3 data-i18n="dashboard.doctorTitle">Doctor overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.doctorPatients">Patients assigned</p>
                <strong id="docPatientsCount">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.doctorUpcoming">Upcoming consultations</p>
                <strong id="docUpcoming">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.doctorCompleted">Completed consultations</p>
                <strong id="docCompleted">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.doctorRemuneration">Locum remuneration estimate</p>
                <strong id="docRemuneration">0</strong>
              </div>
            </div>
            <div class="dash-split">
              <div>
                <h4 data-i18n="dashboard.assignedPatients">Assigned patients</h4>
                <ul id="docPatientList" class="dash-list"></ul>
              </div>
              <div>
                <h4 data-i18n="dashboard.treatmentPlans">Diagnoses & treatment plans</h4>
                <p class="muted" data-i18n="dashboard.placeholder">
                  Add consultations to see structured clinical plans here.
                </p>
              </div>
            </div>
            <div class="dash-table">
              <h4 data-i18n="dashboard.doctorPayslip">Payslip preview</h4>
              <div class="dash-cards">
                <div class="dash-card">
                  <p data-i18n="dashboard.doctorGross">Gross service fee</p>
                  <strong id="docGross">0</strong>
                </div>
                <div class="dash-card">
                  <p data-i18n="dashboard.doctorOtr">OTR deduction</p>
                  <strong id="docOtr">0</strong>
                </div>
                <div class="dash-card">
                  <p data-i18n="dashboard.doctorNet">Net payment</p>
                  <strong id="docNet">0</strong>
                </div>
              </div>
              <button id="downloadPayslip" class="ghost" type="button" data-i18n="dashboard.downloadPayslip">
                Download payslip
              </button>
            </div>
          </section>

          <section class="dash-section" data-role="nurse">
            <h3 data-i18n="dashboard.nurseTitle">Nursing overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.nursePatients">Assigned patients</p>
                <strong id="nursePatients">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.nurseTasks">Tasks completed today</p>
                <strong id="nurseTasks">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.nurseMonthly">Monthly activity</p>
                <strong id="nurseMonthly">0</strong>
              </div>
            </div>
            <div class="dash-table">
              <h4 data-i18n="dashboard.doctorPayments">Doctor payments (locum)</h4>
              <table>
                <thead>
                  <tr>
                    <th data-i18n="dashboard.staffName">Doctor</th>
                    <th data-i18n="dashboard.amount">Amount</th>
                  </tr>
                </thead>
                <tbody id="nurseDoctorPayments"></tbody>
              </table>
            </div>
          </section>

          <section class="dash-section" data-role="lab">
            <h3 data-i18n="dashboard.labTitle">Laboratory overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.labPending">Tests pending</p>
                <strong id="labPending">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.labInProgress">In progress</p>
                <strong id="labInProgress">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.labCompleted">Completed</p>
                <strong id="labCompleted">0</strong>
              </div>
            </div>
          </section>

          <section class="dash-section" data-role="radiology">
            <h3 data-i18n="dashboard.radiologyTitle">Imaging overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.radioScheduled">Exams scheduled</p>
                <strong id="radioScheduled">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.radioCompleted">Exams completed</p>
                <strong id="radioCompleted">0</strong>
              </div>
            </div>
          </section>

          <section class="dash-section" data-role="pharmacy">
            <h3 data-i18n="dashboard.pharmacyTitle">Pharmacy overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.pharmacyDispensed">Medications dispensed</p>
                <strong id="pharmacyDispensed">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.pharmacyAlerts">Stock alerts</p>
                <strong id="pharmacyAlerts">0</strong>
              </div>
            </div>
          </section>

          <section class="dash-section" data-role="accountant">
            <h3 data-i18n="dashboard.accountTitle">Finance overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.revenue">Total revenue</p>
                <strong id="accRevenue">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.patientShare">Patient payments</p>
                <strong id="accPatient">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.insuranceShare">Insurance payments</p>
                <strong id="accInsurance">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.outstanding">Outstanding balances</p>
                <strong id="accOutstanding">0</strong>
              </div>
            </div>
            <div class="dash-table">
              <h4 data-i18n="dashboard.doctorPayments">Doctor payments (locum)</h4>
              <table>
                <thead>
                  <tr>
                    <th data-i18n="dashboard.staffName">Doctor</th>
                    <th data-i18n="dashboard.amount">Amount</th>
                  </tr>
                </thead>
                <tbody id="accDoctorPayments"></tbody>
              </table>
            </div>
          </section>

          <section class="dash-section" data-role="director">
            <h3 data-i18n="dashboard.adminTitle">Management overview</h3>
            <div class="dash-cards">
              <div class="dash-card">
                <p data-i18n="dashboard.totalPatients">Total patients received</p>
                <strong id="dirPatients">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.totalServices">Service utilization</p>
                <strong id="dirServices">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.revenue">Total revenue</p>
                <strong id="dirRevenue">0</strong>
              </div>
              <div class="dash-card">
                <p data-i18n="dashboard.staffProductivity">Staff productivity</p>
                <strong id="dirStaffProductivity">0</strong>
              </div>
            </div>
          </section>

          <section class="dash-section" data-role="other">
            <h3 data-i18n="dashboard.otherTitle">General overview</h3>
            <p class="muted" data-i18n="dashboard.otherSubtitle">
              Your dashboard will appear here once your role is configured.
            </p>
          </section>
        </div>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
